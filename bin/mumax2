#! /bin/bash

# This is a wrapper script for the mumax2 binary.

ARGV="$@"

MUMAX2BIN=$(dirname $(readlink -f $0)) || MUMAX2BIN=$(echo REPLACE_ME_BY_PATH)
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$MUMAX2BIN/../src/libmumax2
export PYTHONPATH=$PYTHONPATH:$MUMAX2BIN/../src/python

if [ $(uname) == "Darwin" ]
then
	export DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH:/usr/local/cuda/lib:$MUMAX2BIN/../src/libmumax2
fi

exec $MUMAX2BIN/../src/mumax2/mumax2 $ARGV
